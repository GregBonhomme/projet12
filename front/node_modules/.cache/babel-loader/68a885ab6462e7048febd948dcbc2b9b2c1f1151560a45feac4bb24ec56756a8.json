{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nfunction normalise(data) {\n  const id = data.profile.id;\n  const keyData = data.profile.keyData;\n  const infos = data.profile.userInfos;\n  let score = 0;\n  data.profile.todayScore ? score = data.profile.todayScore : score = data.profile.score;\n  const perfs = data.perf;\n  const average = data.average.sessions;\n  const activity = data.activity.sessions;\n  return {\n    id,\n    keyData,\n    infos,\n    score,\n    perfs,\n    average,\n    activity\n  };\n}\nfunction useFetch(userId) {\n  _s();\n  const [isLoading, setLoading] = useState(true);\n  const [profile, setProfile] = useState([]);\n  const [activity, setActivity] = useState([]);\n  const [average, setAverage] = useState([]);\n  const [perf, setPerf] = useState([]);\n  useEffect(() => {\n    if (!userId) {\n      setLoading(true);\n    }\n    fetch(\"http://localhost:3000/user/\" + userId).then(res => res.json()).then(temp => {\n      setProfile(temp.data);\n    }).catch(err => {\n      console.log(err.message);\n    });\n    fetch(\"http://localhost:3000/user/\" + userId + \"/activity\").then(res => res.json()).then(temp => {\n      setActivity(temp.data);\n    }).catch(err => {\n      console.log(err.message);\n    });\n    fetch(\"http://localhost:3000/user/\" + userId + \"/average-sessions\").then(res => res.json()).then(temp => {\n      setAverage(temp.data);\n    }).catch(err => {\n      console.log(err.message);\n    });\n    fetch(\"http://localhost:3000/user/\" + userId + \"/performance\").then(res => res.json()).then(temp => {\n      setPerf(temp.data);\n    }).catch(err => {\n      console.log(err.message);\n    });\n  }, []);\n  return normalise({\n    isLoading,\n    profile,\n    activity,\n    average,\n    perf\n  });\n}\n_s(useFetch, \"Bpxa/zAei/xKFZlHaEd4N0msiiA=\");\nexport default useFetch;","map":{"version":3,"names":["useState","useEffect","normalise","data","id","profile","keyData","infos","userInfos","score","todayScore","perfs","perf","average","sessions","activity","useFetch","userId","_s","isLoading","setLoading","setProfile","setActivity","setAverage","setPerf","fetch","then","res","json","temp","catch","err","console","log","message"],"sources":["C:/Users/grego/Documents/temp/OpenClassroom/projet12/front/src/utils/service/useFetch/index.jsx"],"sourcesContent":["import { useState,useEffect } from \"react\";\r\n\r\nfunction normalise (data) {\r\n\r\n    const id = data.profile.id\r\n    const keyData = data.profile.keyData\r\n    const infos = data.profile.userInfos\r\n    let score = 0\r\n    data.profile.todayScore ? (score = data.profile.todayScore) : (score = data.profile.score)\r\n    const perfs = data.perf\r\n    const average = data.average.sessions\r\n    const activity = data.activity.sessions\r\n\r\n    return {id,keyData,infos,score,perfs,average,activity}\r\n}\r\n\r\nfunction useFetch (userId) {\r\n    const [isLoading,setLoading] = useState(true)\r\n    const [profile,setProfile] = useState([])\r\n    const [activity,setActivity] = useState([])\r\n    const [average,setAverage] = useState([])\r\n    const [perf,setPerf] = useState([])\r\n\r\n    useEffect (() => {\r\n        if (!userId) {\r\n            setLoading(true)\r\n        }\r\n            fetch(\"http://localhost:3000/user/\"+ userId)\r\n            .then((res) => res.json())\r\n            .then((temp) => {\r\n                setProfile(temp.data)\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.message)\r\n            })\r\n            fetch(\"http://localhost:3000/user/\"+ userId +\"/activity\")\r\n            .then((res) => res.json())\r\n            .then((temp) => {\r\n                setActivity(temp.data)\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.message)\r\n            })\r\n            fetch(\"http://localhost:3000/user/\"+ userId +\"/average-sessions\")\r\n            .then((res) => res.json())\r\n            .then((temp) => {\r\n                setAverage(temp.data)\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.message)\r\n            })\r\n            fetch(\"http://localhost:3000/user/\"+ userId +\"/performance\")\r\n            .then((res) => res.json())\r\n            .then((temp) => {\r\n                setPerf(temp.data)\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.message)\r\n            })\r\n        },[])\r\n\r\n    return normalise({isLoading,profile,activity,average,perf})\r\n}\r\n\r\nexport default useFetch"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}